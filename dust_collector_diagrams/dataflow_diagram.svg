<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: DataFlow Pages: 1 -->
<svg width="1152pt" height="293pt"
 viewBox="0.00 0.00 1151.99 293.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 289)">
<title>DataFlow</title>
<polygon fill="#fafafa" stroke="transparent" points="-4,4 -4,-289 1147.99,-289 1147.99,4 -4,4"/>
<text text-anchor="start" x="417" y="-269.2" font-family="Arial" font-weight="bold" font-size="16.00">Data Flow: Tool Detection â†’ Fan Control</text>
<g id="clust1" class="cluster">
<title>cluster_input</title>
<polygon fill="#e8f5e9" stroke="#388e3c" stroke-width="2" points="8,-68 8,-251 115,-251 115,-68 8,-68"/>
<text text-anchor="middle" x="61.5" y="-235.8" font-family="Arial" font-size="14.00">Physical Inputs</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_process</title>
<polygon fill="#fff9c4" stroke="#f57f17" stroke-width="2" points="289,-127 289,-202 531,-202 531,-127 289,-127"/>
<text text-anchor="middle" x="410" y="-186.8" font-family="Arial" font-size="14.00">Signal Processing</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_control</title>
<polygon fill="#e1f5fe" stroke="#0277bd" stroke-width="2" points="842.99,-74 842.99,-203 958.99,-203 958.99,-74 842.99,-74"/>
<text text-anchor="middle" x="900.99" y="-187.8" font-family="Arial" font-size="14.00">Gate Controllers</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_output</title>
<polygon fill="#fce4ec" stroke="#c2185b" stroke-width="2" points="1024.99,-8 1024.99,-245 1143.99,-245 1143.99,-8 1024.99,-8"/>
<text text-anchor="middle" x="1084.49" y="-229.8" font-family="Arial" font-size="14.00">Physical Outputs</text>
</g>
<!-- saw_current -->
<g id="node1" class="node">
<title>saw_current</title>
<polygon fill="#66bb6a" stroke="black" points="107,-220 16,-220 16,-184 107,-184 107,-220"/>
<text text-anchor="middle" x="61.5" y="-205.2" font-family="Arial" font-size="11.00">Saw</text>
<text text-anchor="middle" x="61.5" y="-193.2" font-family="Arial" font-size="11.00">Current Sensor</text>
</g>
<!-- adc -->
<g id="node4" class="node">
<title>adc</title>
<polygon fill="#42a5f5" stroke="black" points="239,-171 144,-171 144,-135 239,-135 239,-171"/>
<text text-anchor="start" x="168" y="-156.2" font-family="Arial" font-weight="bold" font-size="11.00" fill="white">ADS1115</text>
<text text-anchor="start" x="152" y="-145.2" font-family="Arial" font-size="11.00" fill="white">Analog to Digital</text>
</g>
<!-- saw_current&#45;&gt;adc -->
<g id="edge1" class="edge">
<title>saw_current&#45;&gt;adc</title>
<path fill="none" stroke="black" stroke-width="2" d="M107.27,-184.86C116.04,-181.5 125.35,-177.94 134.44,-174.46"/>
<polygon fill="black" stroke="black" stroke-width="2" points="135.71,-177.72 143.8,-170.88 133.21,-171.18 135.71,-177.72"/>
</g>
<!-- lathe_current -->
<g id="node2" class="node">
<title>lathe_current</title>
<polygon fill="#66bb6a" stroke="black" points="107,-166 16,-166 16,-130 107,-130 107,-166"/>
<text text-anchor="middle" x="61.5" y="-151.2" font-family="Arial" font-size="11.00">Lathe</text>
<text text-anchor="middle" x="61.5" y="-139.2" font-family="Arial" font-size="11.00">Current Sensor</text>
</g>
<!-- lathe_current&#45;&gt;adc -->
<g id="edge2" class="edge">
<title>lathe_current&#45;&gt;adc</title>
<path fill="none" stroke="black" stroke-width="2" d="M107.27,-149.75C115.77,-150.08 124.76,-150.43 133.58,-150.78"/>
<polygon fill="black" stroke="black" stroke-width="2" points="133.67,-154.28 143.8,-151.18 133.95,-147.29 133.67,-154.28"/>
</g>
<!-- air_sensor -->
<g id="node3" class="node">
<title>air_sensor</title>
<polygon fill="#66bb6a" stroke="black" points="95.5,-112 27.5,-112 27.5,-76 95.5,-76 95.5,-112"/>
<text text-anchor="middle" x="61.5" y="-97.2" font-family="Arial" font-size="11.00">Particulate</text>
<text text-anchor="middle" x="61.5" y="-85.2" font-family="Arial" font-size="11.00">Sensor</text>
</g>
<!-- bus -->
<g id="node8" class="node">
<title>bus</title>
<path fill="#ef5350" stroke="black" d="M813.99,-114.73C813.99,-116.53 799.2,-118 780.99,-118 762.79,-118 747.99,-116.53 747.99,-114.73 747.99,-114.73 747.99,-85.27 747.99,-85.27 747.99,-83.47 762.79,-82 780.99,-82 799.2,-82 813.99,-83.47 813.99,-85.27 813.99,-85.27 813.99,-114.73 813.99,-114.73"/>
<path fill="none" stroke="black" d="M813.99,-114.73C813.99,-112.92 799.2,-111.45 780.99,-111.45 762.79,-111.45 747.99,-112.92 747.99,-114.73"/>
<text text-anchor="middle" x="780.99" y="-97.2" font-family="Arial" font-size="11.00" fill="white">Event Bus</text>
</g>
<!-- air_sensor&#45;&gt;bus -->
<g id="edge14" class="edge">
<title>air_sensor&#45;&gt;bus</title>
<path fill="none" stroke="#43a047" stroke-width="2" d="M95.65,-94C121.49,-94 158.28,-94 190.5,-94 190.5,-94 190.5,-94 662.5,-94 687.45,-94 715.34,-95.37 737.69,-96.79"/>
<polygon fill="#43a047" stroke="#43a047" stroke-width="2" points="737.64,-100.3 747.85,-97.47 738.11,-93.31 737.64,-100.3"/>
<text text-anchor="middle" x="407" y="-96.8" font-family="Arial" font-size="9.00">aqm.metrics</text>
</g>
<!-- hysteresis -->
<g id="node5" class="node">
<title>hysteresis</title>
<polygon fill="#ffeb3b" stroke="black" points="364,-171 297,-171 297,-135 364,-135 364,-171"/>
<text text-anchor="middle" x="330.5" y="-156.2" font-family="Arial" font-size="11.00">Hysteresis</text>
<text text-anchor="middle" x="330.5" y="-144.2" font-family="Arial" font-size="11.00">Filtering</text>
</g>
<!-- adc&#45;&gt;hysteresis -->
<g id="edge3" class="edge">
<title>adc&#45;&gt;hysteresis</title>
<path fill="none" stroke="black" stroke-width="2" d="M239.26,-153C254.63,-153 271.63,-153 286.69,-153"/>
<polygon fill="black" stroke="black" stroke-width="2" points="286.76,-156.5 296.76,-153 286.76,-149.5 286.76,-156.5"/>
<text text-anchor="middle" x="268" y="-155.8" font-family="Arial" font-size="9.00">10Hz</text>
</g>
<!-- debounce -->
<g id="node6" class="node">
<title>debounce</title>
<polygon fill="#ffeb3b" stroke="black" points="523,-171 450,-171 450,-135 523,-135 523,-171"/>
<text text-anchor="middle" x="486.5" y="-156.2" font-family="Arial" font-size="11.00">Debounce</text>
<text text-anchor="middle" x="486.5" y="-144.2" font-family="Arial" font-size="11.00">(3 samples)</text>
</g>
<!-- hysteresis&#45;&gt;debounce -->
<g id="edge4" class="edge">
<title>hysteresis&#45;&gt;debounce</title>
<path fill="none" stroke="black" stroke-width="2" d="M364.16,-153C386.18,-153 415.53,-153 439.85,-153"/>
<polygon fill="black" stroke="black" stroke-width="2" points="439.93,-156.5 449.93,-153 439.93,-149.5 439.93,-156.5"/>
</g>
<!-- events -->
<g id="node7" class="node">
<title>events</title>
<ellipse fill="#ba68c8" stroke="black" cx="661.5" cy="-153" rx="49.49" ry="31.23"/>
<text text-anchor="middle" x="661.5" y="-162.2" font-family="Arial" font-size="11.00" fill="white">Events:</text>
<text text-anchor="middle" x="661.5" y="-150.2" font-family="Arial" font-size="11.00" fill="white">saw.on/off</text>
<text text-anchor="middle" x="661.5" y="-138.2" font-family="Arial" font-size="11.00" fill="white">lathe.on/off</text>
</g>
<!-- debounce&#45;&gt;events -->
<g id="edge5" class="edge">
<title>debounce&#45;&gt;events</title>
<path fill="none" stroke="black" stroke-width="2" d="M523.35,-153C545.97,-153 575.74,-153 601.77,-153"/>
<polygon fill="black" stroke="black" stroke-width="2" points="601.9,-156.5 611.9,-153 601.9,-149.5 601.9,-156.5"/>
<text text-anchor="middle" x="567.5" y="-155.8" font-family="Arial" font-size="9.00">state change</text>
</g>
<!-- events&#45;&gt;bus -->
<g id="edge6" class="edge">
<title>events&#45;&gt;bus</title>
<path fill="none" stroke="black" stroke-width="2" d="M702.28,-135.06C713.94,-129.8 726.72,-124.03 738.49,-118.72"/>
<polygon fill="black" stroke="black" stroke-width="2" points="739.99,-121.89 747.66,-114.58 737.11,-115.5 739.99,-121.89"/>
</g>
<!-- saw_ctrl -->
<g id="node9" class="node">
<title>saw_ctrl</title>
<polygon fill="#29b6f6" stroke="black" points="933.49,-172 868.49,-172 868.49,-136 933.49,-136 933.49,-172"/>
<text text-anchor="middle" x="900.99" y="-157.2" font-family="Arial" font-size="11.00">Saw Gate</text>
<text text-anchor="middle" x="900.99" y="-145.2" font-family="Arial" font-size="11.00">Controller</text>
</g>
<!-- bus&#45;&gt;saw_ctrl -->
<g id="edge7" class="edge">
<title>bus&#45;&gt;saw_ctrl</title>
<path fill="none" stroke="black" stroke-width="2" d="M814.24,-114.76C828.01,-121.06 844.25,-128.49 858.87,-135.18"/>
<polygon fill="black" stroke="black" stroke-width="2" points="857.65,-138.47 868.2,-139.45 860.56,-132.11 857.65,-138.47"/>
</g>
<!-- lathe_ctrl -->
<g id="node10" class="node">
<title>lathe_ctrl</title>
<polygon fill="#29b6f6" stroke="black" points="935.99,-118 865.99,-118 865.99,-82 935.99,-82 935.99,-118"/>
<text text-anchor="middle" x="900.99" y="-103.2" font-family="Arial" font-size="11.00">Lathe Gate</text>
<text text-anchor="middle" x="900.99" y="-91.2" font-family="Arial" font-size="11.00">Controller</text>
</g>
<!-- bus&#45;&gt;lathe_ctrl -->
<g id="edge8" class="edge">
<title>bus&#45;&gt;lathe_ctrl</title>
<path fill="none" stroke="black" stroke-width="2" d="M814.24,-100C826.96,-100 841.79,-100 855.51,-100"/>
<polygon fill="black" stroke="black" stroke-width="2" points="855.73,-103.5 865.73,-100 855.73,-96.5 855.73,-103.5"/>
</g>
<!-- collector -->
<g id="node13" class="node">
<title>collector</title>
<polygon fill="#ec407a" stroke="black" points="1126.99,-52 1041.99,-52 1041.99,-16 1126.99,-16 1126.99,-52"/>
<text text-anchor="middle" x="1084.49" y="-37.2" font-family="Arial" font-size="11.00">Dust Collector</text>
<text text-anchor="middle" x="1084.49" y="-25.2" font-family="Arial" font-size="11.00">Fan</text>
</g>
<!-- bus&#45;&gt;collector -->
<g id="edge13" class="edge">
<title>bus&#45;&gt;collector</title>
<path fill="none" stroke="black" stroke-width="2" stroke-dasharray="5,2" d="M803.52,-82.26C814.63,-74.08 828.81,-65.08 842.99,-60 905.19,-37.72 981.76,-33 1031.56,-32.68"/>
<polygon fill="black" stroke="black" stroke-width="2" points="1031.76,-36.18 1041.76,-32.67 1031.76,-29.18 1031.76,-36.18"/>
<text text-anchor="middle" x="900.99" y="-62.8" font-family="Arial" font-size="9.00">any tool active</text>
</g>
<!-- saw_gate -->
<g id="node11" class="node">
<title>saw_gate</title>
<polygon fill="#ec407a" stroke="black" points="1117.99,-214 1050.99,-214 1050.99,-178 1117.99,-178 1117.99,-214"/>
<text text-anchor="middle" x="1084.49" y="-199.2" font-family="Arial" font-size="11.00">Saw</text>
<text text-anchor="middle" x="1084.49" y="-187.2" font-family="Arial" font-size="11.00">Blast Gate</text>
</g>
<!-- saw_ctrl&#45;&gt;saw_gate -->
<g id="edge9" class="edge">
<title>saw_ctrl&#45;&gt;saw_gate</title>
<path fill="none" stroke="black" stroke-width="2" d="M933.61,-161.32C963.34,-168.2 1008.07,-178.55 1040.93,-186.15"/>
<polygon fill="black" stroke="black" stroke-width="2" points="1040.18,-189.57 1050.71,-188.41 1041.76,-182.75 1040.18,-189.57"/>
<text text-anchor="middle" x="991.99" y="-181.8" font-family="Arial" font-size="9.00">open/close</text>
</g>
<!-- leds -->
<g id="node14" class="node">
<title>leds</title>
<polygon fill="#ec407a" stroke="black" points="1111.49,-160 1057.49,-160 1057.49,-124 1111.49,-124 1111.49,-160"/>
<text text-anchor="middle" x="1084.49" y="-145.2" font-family="Arial" font-size="11.00">Status</text>
<text text-anchor="middle" x="1084.49" y="-133.2" font-family="Arial" font-size="11.00">LEDs</text>
</g>
<!-- saw_ctrl&#45;&gt;leds -->
<g id="edge11" class="edge">
<title>saw_ctrl&#45;&gt;leds</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M933.61,-151.91C965.23,-149.82 1013.81,-146.61 1047.04,-144.41"/>
<polygon fill="black" stroke="black" points="1047.5,-147.89 1057.24,-143.74 1047.03,-140.9 1047.5,-147.89"/>
<text text-anchor="middle" x="991.99" y="-151.8" font-family="Arial" font-size="9.00">green/red</text>
</g>
<!-- lathe_gate -->
<g id="node12" class="node">
<title>lathe_gate</title>
<polygon fill="#ec407a" stroke="black" points="1117.99,-106 1050.99,-106 1050.99,-70 1117.99,-70 1117.99,-106"/>
<text text-anchor="middle" x="1084.49" y="-91.2" font-family="Arial" font-size="11.00">Lathe</text>
<text text-anchor="middle" x="1084.49" y="-79.2" font-family="Arial" font-size="11.00">Blast Gate</text>
</g>
<!-- lathe_ctrl&#45;&gt;lathe_gate -->
<g id="edge10" class="edge">
<title>lathe_ctrl&#45;&gt;lathe_gate</title>
<path fill="none" stroke="black" stroke-width="2" d="M936.3,-93.33C946.75,-91.57 958.31,-89.92 968.99,-89 992.65,-86.97 1019.16,-86.61 1040.71,-86.81"/>
<polygon fill="black" stroke="black" stroke-width="2" points="1040.81,-90.32 1050.86,-86.95 1040.91,-83.32 1040.81,-90.32"/>
<text text-anchor="middle" x="991.99" y="-91.8" font-family="Arial" font-size="9.00">open/close</text>
</g>
<!-- lathe_ctrl&#45;&gt;leds -->
<g id="edge12" class="edge">
<title>lathe_ctrl&#45;&gt;leds</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M936.13,-107.9C967.92,-115.25 1015.12,-126.18 1047.49,-133.67"/>
<polygon fill="black" stroke="black" points="1046.91,-137.13 1057.44,-135.97 1048.49,-130.31 1046.91,-137.13"/>
<text text-anchor="middle" x="991.99" y="-127.8" font-family="Arial" font-size="9.00">green/red</text>
</g>
</g>
</svg>
