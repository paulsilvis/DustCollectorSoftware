logging:
  level: INFO

hardware:
  # mock | real
  # Default is mock if omitted
  mode: real
  outputs_enabled: true

i2c:
  bus: 1
  lcd_addr: 0x3F
  oled_addr: 0x3C
  ads1115_addr: 0x48
  pcf_led_addr: 0x20
  pcf_act_addr: 0x21
  pcf_spare_addrs: [0x22, 0x23, 0x24]

gpio:
  collector_ssr: 25
  fan_ssr: 24

uart:
  aqm_port: /dev/serial0
  esp32_port: /dev/serial0
  baud: 9600

gates:
  dead_time_ms: 200
  move_timeout_s: 5
  map:
    tablesaw: { fwd_bit: 0, rev_bit: 1, led_red: 0, led_green: 1, adc_ch: 0 }
    lathe:    { fwd_bit: 2, rev_bit: 3, led_red: 2, led_green: 3, adc_ch: 1 }
    drill:    { fwd_bit: 4, rev_bit: 5, led_red: 4, led_green: 5, adc_ch: 2 }
    spare:    { fwd_bit: 6, rev_bit: 7, led_red: 6, led_green: 7, adc_ch: 3 }

debounce:
  on_threshold: 0.30
  off_threshold: 0.20
  on_min_ms: 300
  off_min_ms: 900

aqm:
  show_values: false # true        # only if you want the per-sample log lines
  fan_on_when_bad: true
  interval_s: 0.8
  bad_threshold: 35
  severe_threshold: 75
  flush_in_waiting_threshold: 4096
  buf_max_bytes: 8192
  good_hold_s: 120
  min_on_s: 45
  filter_window_good: 5
  filter_window_bad_mult: 5
  # OR explicitly:
  # filter_window_bad: 25
  enabled: true
  audio_dir: "AudioCoolness/"
  player: mpg123
  min_seconds_between: 60

tool_announce:
  enabled: true
  audio_dir: "AudioCoolness"
  player: "mpg123"
  announce_probability: 1.0

features:
  lcd: true
  oled: true
  led_bank: true
  led_strip: true
  sounds: false
  iss_screen: false

safety:
  pause_fun_on_severe_aqm: true
  min_off_lockout_ms: 0

mock_sim:
  # Used ONLY when hardware.mode == mock
  # mode: pathological   # realistic | pathological
  mode: realistic
  tools: 4
  tick_s: 0.2
  cycle_s: 20
  on_s: 2
  off_mean_v: 0.05
  on_mean_v: 0.55
  noise_v: 0.02
  pm25_base: 8
  pm25_bump: 45
  pm25_bump_s: 8

old_crappy_announce:
  enabled: true
  min_seconds_between: 60
  engine: espeak-ng
  voice: en-us
  volume: 200
  speed_wpm: 155
  unsafe_text: 'Warning!!  Warning!! Warning!! Air quality is no longer safe, and the filter has been activated'
  safe_text: 'All clear! All clear! All clear!  The air quality is now considered safe. And Paul is a good boy.'

